#version 140
in vec4 LVertexPos3D;
in vec3 normals;
uniform mat4 MVP;
uniform vec3 light;
out vec4 vertexColor;

void main() {
    gl_Position = MVP * vec4(LVertexPos3D.x, LVertexPos3D.y, LVertexPos3D.z, 1 );
    vec3 newNormal = normalize(vec3(MVP * vec4(normals, 0.f)));
    vertexColor = ((dot(light, newNormal) + 1.f) / 2.f) * vec4(0.5f, 0.2f, 0.0f, 1.f) + (1 - ((dot(light, newNormal) + 1.f) / 2.f)) * vec4(0.0f, 0.05f, 0.1f, 1.f);
}
